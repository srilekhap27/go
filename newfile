cy.window().then((win) => {
      const originalCreateElement = win.document.createElement; // Store original method

      const anchorStub = originalCreateElement.call(win.document, "a"); // Create anchor normally
      cy.spy(anchorStub, "click").as("anchorClick"); // Spy on click()

      // Stub ⁠ document.createElement ⁠ but avoid infinite recursion
      cy.stub(win.document, "createElement").callsFake((tagName) => {
        return tagName === "a" ? anchorStub : originalCreateElement.call(win.document, tagName);
      });
    });
